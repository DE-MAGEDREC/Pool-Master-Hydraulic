<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Pool Master Hydraulic</title>
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
<link rel="stylesheet" href="style.css">
<style>
/* ===== Layout & inputs ===== */
.layout { display: grid; grid-template-columns: 2fr 1fr; gap: 20px; }
.input-small { width: 120px; }
#res_droite { background:#f8f9fa; padding:15px; border-radius:6px; position:sticky; top:10px; height:fit-content; }
</style>
</head>

<body>
<button class="logout-btn btn btn-danger" onclick="logout()">DÃ©connexion</button>

<div class="container mt-3">
<h2 class="text-center" id="title">Pool Master Hydraulic</h2>

<!-- LANGUE -->
<div class="text-right mb-2">
  <label for="lang-select"><b>Language:</b></label>
  <select id="lang-select" class="form-control d-inline-block" style="width:150px;">
    <option value="en" selected>English</option>
    <option value="fr">FranÃ§ais</option>
    <option value="es">EspaÃ±ol</option>
  </select>
</div>

<div class="layout">
<!-- â¬…ï¸ Formulaires -->
<div>
<ul class="nav nav-tabs" id="tabs">
  <li class="nav-item"><a class="nav-link active" data-toggle="tab" href="#piscine" id="tab-piscine">Piscine</a></li>
  <li class="nav-item"><a class="nav-link" data-toggle="tab" href="#canalisations" id="tab-canalisations">Canalisations</a></li>
  <li class="nav-item"><a class="nav-link" data-toggle="tab" href="#pertes_singulieres" id="tab-pertes">Pertes singuliÃ¨res</a></li>
  <li class="nav-item"><a class="nav-link" data-toggle="tab" href="#pression_temp" id="tab-pression">Pression & TempÃ©rature</a></li>
  <li class="nav-item"><a class="nav-link" data-toggle="tab" href="#resultats_pdf" id="tab-resultats">RÃ©sultats / PDF</a></li>
</ul>

<div class="tab-content mt-3">

<!-- ðŸŠ Piscine -->
<div class="tab-pane fade show active" id="piscine">
<h6 id="lbl-forme">Forme de la piscine</h6>
<label><input type="radio" name="forme" value="rectangle" checked> Rectangulaire</label>
<label class="ml-2"><input type="radio" name="forme" value="carre"> CarrÃ©e</label>
<label class="ml-2"><input type="radio" name="forme" value="ronde"> Ronde</label>
<label class="ml-2"><input type="radio" name="forme" value="ovale"> Ovale</label>
<label class="ml-2"><input type="radio" name="forme" value="libre"> Forme libre</label>

<div class="mt-3">
  <label id="lbl-L">Longueur (m)</label>
  <input id="L" type="number" step="0.01" class="form-control input-small">
  <label id="lbl-l">Largeur (m)</label>
  <input id="l" type="number" step="0.01" class="form-control input-small">
  <label id="lbl-p">Profondeur (m)</label>
  <input id="p" type="number" step="0.01" class="form-control input-small">
  <label id="lbl-t">Temps de recyclage (h)</label>
  <input id="t" type="number" step="0.01" class="form-control input-small" value="5">
</div>

<button class="btn btn-primary mt-3" onclick="calculerResultats(); suivant('#canalisations')">Suivant â†’</button>
</div>

<!-- ðŸš° Canalisations -->
<div class="tab-pane fade" id="canalisations">
<label id="lbl-dn">DN (mm)</label>
<input id="D" type="number" step="0.01" class="form-control input-small">

<label id="lbl-mat">MatÃ©riau tuyau</label>
<select id="materiau" class="form-control">
  <option value="PVC Rigide">PVC Rigide</option>
  <option value="PVC Souple">PVC Souple</option>
  <option value="Turbulence">Turbulence anormale</option>
</select>

<h6 id="lbl-asp">Aspiration</h6>
<label id="lbl-Lasp">Longueur (m)</label><input id="L_asp" type="number" step="0.01" class="form-control input-small">
<label id="lbl-vasp">Vitesse (m/s)</label><input id="v_asp" type="number" step="0.01" class="form-control input-small">

<h6 id="lbl-ref">Refoulement</h6>
<label id="lbl-Lref">Longueur (m)</label><input id="L_ref" type="number" step="0.01" class="form-control input-small">
<label id="lbl-vref">Vitesse (m/s)</label><input id="v_ref" type="number" step="0.01" class="form-control input-small">

<button class="btn btn-primary mt-3" onclick="calculerResultats(); suivant('#pertes_singulieres')">Suivant â†’</button>
</div>

<!-- ðŸ”§ Pertes singuliÃ¨res -->
<div class="tab-pane fade" id="pertes_singulieres">
<h6>Accessoires Aspiration</h6>
<div id="accessoires_asp">
  <label>Coude 90Â° long rayon</label><input type="number" id="coude90l_asp" step="0.01" class="form-control input-small">
  <label>Coude 90Â° court rayon</label><input type="number" id="coude90c_asp" step="0.01" class="form-control input-small">
  <label>Coude 45Â°</label><input type="number" id="coude45_asp" step="0.01" class="form-control input-small">
  <label>TÃ© passage droit</label><input type="number" id="te_droit_asp" step="0.01" class="form-control input-small">
  <label>TÃ© dÃ©rivation</label><input type="number" id="te_deriv_asp" step="0.01" class="form-control input-small">
  <label>Manchon</label><input type="number" id="manchon_asp" step="0.01" class="form-control input-small">
  <label>Clapet anti-retour</label><input type="number" id="clapet_asp" step="0.01" class="form-control input-small">
  <label>Vanne</label><input type="number" id="vanne_asp" step="0.01" class="form-control input-small">
</div>

<h6>Accessoires Refoulement</h6>
<div id="accessoires_ref">
  <label>Coude 90Â° long rayon</label><input type="number" id="coude90l_ref" step="0.01" class="form-control input-small">
  <label>Coude 90Â° court rayon</label><input type="number" id="coude90c_ref" step="0.01" class="form-control input-small">
  <label>Coude 45Â°</label><input type="number" id="coude45_ref" step="0.01" class="form-control input-small">
  <label>TÃ© passage droit</label><input type="number" id="te_droit_ref" step="0.01" class="form-control input-small">
  <label>TÃ© dÃ©rivation</label><input type="number" id="te_deriv_ref" step="0.01" class="form-control input-small">
  <label>Manchon</label><input type="number" id="manchon_ref" step="0.01" class="form-control input-small">
  <label>Clapet anti-retour</label><input type="number" id="clapet_ref" step="0.01" class="form-control input-small">
  <label>Vanne</label><input type="number" id="vanne_ref" step="0.01" class="form-control input-small">
</div>

<button class="btn btn-primary mt-3" onclick="calculerResultats(); suivant('#pression_temp')">Suivant â†’</button>
</div>

<!-- ðŸŒ¡ï¸ Pression & TempÃ©rature -->
<div class="tab-pane fade" id="pression_temp">
<label>Hauteur gÃ©omÃ©trique (m)</label>
<input id="H_geo" type="number" step="0.01" class="form-control input-small">
<label>Perte filtre (mCE)</label>
<input id="dp_filtre" type="number" step="0.01" class="form-control input-small">

<button class="btn btn-primary mt-3" onclick="calculerResultats(); suivant('#resultats_pdf')">Suivant â†’</button>
</div>

<!-- ðŸ“„ RÃ©sultats -->
<div class="tab-pane fade" id="resultats_pdf">
<div id="res"></div>
<button id="btn-pdf" class="btn btn-success mt-3">Exporter PDF</button>
</div>

</div>
</div>

<!-- âž¡ï¸ RÃ©capitulatif Ã  droite -->
<div id="res_droite">
<h5>RÃ©sultats</h5>
<p>En attente de donnÃ©esâ€¦</p>
</div>
</div>
</div>

<!-- Scripts -->
<script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.2/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
<script src="script.js"></script>
</body>
</html>
